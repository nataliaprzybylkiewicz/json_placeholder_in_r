{"cells":[{"source":"<a href=\"https://www.kaggle.com/code/nataliaprzybykiewicz/json-placeholder-with-r?scriptVersionId=93080053\" target=\"_blank\"><img align=\"left\" alt=\"Kaggle\" title=\"Open in Kaggle\" src=\"https://kaggle.com/static/images/open-in-kaggle.svg\"></a>","metadata":{},"cell_type":"markdown","outputs":[],"execution_count":0},{"cell_type":"code","execution_count":1,"id":"f3427d14","metadata":{"_cell_guid":"7d7f49bf-1729-4465-8c3b-ed7f54a0a451","_kg_hide-output":true,"_uuid":"3562aa78-ba5b-4677-9221-89adfb37f1a9","collapsed":false,"execution":{"iopub.execute_input":"2022-04-15T11:36:19.037736Z","iopub.status.busy":"2022-04-15T11:36:19.035643Z","iopub.status.idle":"2022-04-15T11:36:20.492618Z","shell.execute_reply":"2022-04-15T11:36:20.490641Z"},"jupyter":{"outputs_hidden":false},"papermill":{"duration":1.466461,"end_time":"2022-04-15T11:36:20.495365","exception":false,"start_time":"2022-04-15T11:36:19.028904","status":"completed"},"scrolled":true,"tags":[]},"outputs":[{"name":"stderr","output_type":"stream","text":["\n","Attaching package: ‘dplyr’\n","\n","\n","The following objects are masked from ‘package:stats’:\n","\n","    filter, lag\n","\n","\n","The following objects are masked from ‘package:base’:\n","\n","    intersect, setdiff, setequal, union\n","\n","\n","── \u001b[1mAttaching packages\u001b[22m ─────────────────────────────────────── tidyverse 1.3.1 ──\n","\n","\u001b[32m✔\u001b[39m \u001b[34mggplot2\u001b[39m 3.3.5     \u001b[32m✔\u001b[39m \u001b[34mpurrr  \u001b[39m 0.3.4\n","\u001b[32m✔\u001b[39m \u001b[34mtibble \u001b[39m 3.1.6     \u001b[32m✔\u001b[39m \u001b[34mstringr\u001b[39m 1.4.0\n","\u001b[32m✔\u001b[39m \u001b[34mtidyr  \u001b[39m 1.2.0     \u001b[32m✔\u001b[39m \u001b[34mforcats\u001b[39m 0.5.1\n","\u001b[32m✔\u001b[39m \u001b[34mreadr  \u001b[39m 2.1.2     \n","\n","── \u001b[1mConflicts\u001b[22m ────────────────────────────────────────── tidyverse_conflicts() ──\n","\u001b[31m✖\u001b[39m \u001b[34mdplyr\u001b[39m::\u001b[32mfilter()\u001b[39m  masks \u001b[34mstats\u001b[39m::filter()\n","\u001b[31m✖\u001b[39m \u001b[34mpurrr\u001b[39m::\u001b[32mflatten()\u001b[39m masks \u001b[34mjsonlite\u001b[39m::flatten()\n","\u001b[31m✖\u001b[39m \u001b[34mdplyr\u001b[39m::\u001b[32mlag()\u001b[39m     masks \u001b[34mstats\u001b[39m::lag()\n","\n"]}],"source":["library(jsonlite)\n","library(dplyr)\n","library(tidyverse)"]},{"cell_type":"markdown","id":"5923c550","metadata":{"papermill":{"duration":0.00397,"end_time":"2022-04-15T11:36:20.503653","exception":false,"start_time":"2022-04-15T11:36:20.499683","status":"completed"},"tags":[]},"source":["*JSONPlaceholder* is a free online REST API that to be used whenever one needs some fake data. Working on this collection was part of my recruiting assignment during my job search as a data analyst.\n","\n","**Assigment was as follows:** \n","Write code in R that retrieves all information about posts with even ID numbers and for those posts retrieve comments. Finally, concatenate these collections. Give the result a list of posts with the number of comments. NOTE: do not fetch redundant data."]},{"cell_type":"code","execution_count":2,"id":"11ce9d82","metadata":{"_cell_guid":"7d7f49bf-1729-4465-8c3b-ed7f54a0a451","_uuid":"3562aa78-ba5b-4677-9221-89adfb37f1a9","execution":{"iopub.execute_input":"2022-04-15T11:36:20.54783Z","iopub.status.busy":"2022-04-15T11:36:20.513148Z","iopub.status.idle":"2022-04-15T11:36:21.067179Z","shell.execute_reply":"2022-04-15T11:36:21.06483Z"},"papermill":{"duration":0.562651,"end_time":"2022-04-15T11:36:21.070103","exception":false,"start_time":"2022-04-15T11:36:20.507452","status":"completed"},"scrolled":true,"tags":[]},"outputs":[{"data":{"text/html":["<table class=\"dataframe\">\n","<caption>A data.frame: 6 × 4</caption>\n","<thead>\n","\t<tr><th></th><th scope=col>userId</th><th scope=col>postId</th><th scope=col>post_title</th><th scope=col>post_body</th></tr>\n","\t<tr><th></th><th scope=col>&lt;int&gt;</th><th scope=col>&lt;int&gt;</th><th scope=col>&lt;chr&gt;</th><th scope=col>&lt;chr&gt;</th></tr>\n","</thead>\n","<tbody>\n","\t<tr><th scope=row>2</th><td>1</td><td> 2</td><td>qui est esse                         </td><td>est rerum tempore vitae\n","sequi sint nihil reprehenderit dolor beatae ea dolores neque\n","fugiat blanditiis voluptate porro vel nihil molestiae ut reiciendis\n","qui aperiam non debitis possimus qui neque nisi nulla</td></tr>\n","\t<tr><th scope=row>4</th><td>1</td><td> 4</td><td>eum et est occaecati                 </td><td>ullam et saepe reiciendis voluptatem adipisci\n","sit amet autem assumenda provident rerum culpa\n","quis hic commodi nesciunt rem tenetur doloremque ipsam iure\n","quis sunt voluptatem rerum illo velit                </td></tr>\n","\t<tr><th scope=row>6</th><td>1</td><td> 6</td><td>dolorem eum magni eos aperiam quia   </td><td>ut aspernatur corporis harum nihil quis provident sequi\n","mollitia nobis aliquid molestiae\n","perspiciatis et ea nemo ab reprehenderit accusantium quas\n","voluptate dolores velit et doloremque molestiae            </td></tr>\n","\t<tr><th scope=row>8</th><td>1</td><td> 8</td><td>dolorem dolore est ipsam             </td><td>dignissimos aperiam dolorem qui eum\n","facilis quibusdam animi sint suscipit qui sint possimus cum\n","quaerat magni maiores excepturi\n","ipsam ut commodi dolor voluptatum modi aut vitae                              </td></tr>\n","\t<tr><th scope=row>10</th><td>1</td><td>10</td><td>optio molestias id quia eum          </td><td>quo et expedita modi cum officia vel magni\n","doloribus qui repudiandae\n","vero nisi sit\n","quos veniam quod sed accusamus veritatis error                                                                             </td></tr>\n","\t<tr><th scope=row>12</th><td>2</td><td>12</td><td>in quibusdam tempore odit est dolorem</td><td>itaque id aut magnam\n","praesentium quia et ea odit et ea voluptas et\n","sapiente quia nihil amet occaecati quia id voluptatem\n","incidunt ea est distinctio odio                                                      </td></tr>\n","</tbody>\n","</table>\n"],"text/latex":["A data.frame: 6 × 4\n","\\begin{tabular}{r|llll}\n","  & userId & postId & post\\_title & post\\_body\\\\\n","  & <int> & <int> & <chr> & <chr>\\\\\n","\\hline\n","\t2 & 1 &  2 & qui est esse                          & est rerum tempore vitae\n","sequi sint nihil reprehenderit dolor beatae ea dolores neque\n","fugiat blanditiis voluptate porro vel nihil molestiae ut reiciendis\n","qui aperiam non debitis possimus qui neque nisi nulla\\\\\n","\t4 & 1 &  4 & eum et est occaecati                  & ullam et saepe reiciendis voluptatem adipisci\n","sit amet autem assumenda provident rerum culpa\n","quis hic commodi nesciunt rem tenetur doloremque ipsam iure\n","quis sunt voluptatem rerum illo velit                \\\\\n","\t6 & 1 &  6 & dolorem eum magni eos aperiam quia    & ut aspernatur corporis harum nihil quis provident sequi\n","mollitia nobis aliquid molestiae\n","perspiciatis et ea nemo ab reprehenderit accusantium quas\n","voluptate dolores velit et doloremque molestiae            \\\\\n","\t8 & 1 &  8 & dolorem dolore est ipsam              & dignissimos aperiam dolorem qui eum\n","facilis quibusdam animi sint suscipit qui sint possimus cum\n","quaerat magni maiores excepturi\n","ipsam ut commodi dolor voluptatum modi aut vitae                              \\\\\n","\t10 & 1 & 10 & optio molestias id quia eum           & quo et expedita modi cum officia vel magni\n","doloribus qui repudiandae\n","vero nisi sit\n","quos veniam quod sed accusamus veritatis error                                                                             \\\\\n","\t12 & 2 & 12 & in quibusdam tempore odit est dolorem & itaque id aut magnam\n","praesentium quia et ea odit et ea voluptas et\n","sapiente quia nihil amet occaecati quia id voluptatem\n","incidunt ea est distinctio odio                                                      \\\\\n","\\end{tabular}\n"],"text/markdown":["\n","A data.frame: 6 × 4\n","\n","| <!--/--> | userId &lt;int&gt; | postId &lt;int&gt; | post_title &lt;chr&gt; | post_body &lt;chr&gt; |\n","|---|---|---|---|---|\n","| 2 | 1 |  2 | qui est esse                          | est rerum tempore vitae\n","sequi sint nihil reprehenderit dolor beatae ea dolores neque\n","fugiat blanditiis voluptate porro vel nihil molestiae ut reiciendis\n","qui aperiam non debitis possimus qui neque nisi nulla |\n","| 4 | 1 |  4 | eum et est occaecati                  | ullam et saepe reiciendis voluptatem adipisci\n","sit amet autem assumenda provident rerum culpa\n","quis hic commodi nesciunt rem tenetur doloremque ipsam iure\n","quis sunt voluptatem rerum illo velit                 |\n","| 6 | 1 |  6 | dolorem eum magni eos aperiam quia    | ut aspernatur corporis harum nihil quis provident sequi\n","mollitia nobis aliquid molestiae\n","perspiciatis et ea nemo ab reprehenderit accusantium quas\n","voluptate dolores velit et doloremque molestiae             |\n","| 8 | 1 |  8 | dolorem dolore est ipsam              | dignissimos aperiam dolorem qui eum\n","facilis quibusdam animi sint suscipit qui sint possimus cum\n","quaerat magni maiores excepturi\n","ipsam ut commodi dolor voluptatum modi aut vitae                               |\n","| 10 | 1 | 10 | optio molestias id quia eum           | quo et expedita modi cum officia vel magni\n","doloribus qui repudiandae\n","vero nisi sit\n","quos veniam quod sed accusamus veritatis error                                                                              |\n","| 12 | 2 | 12 | in quibusdam tempore odit est dolorem | itaque id aut magnam\n","praesentium quia et ea odit et ea voluptas et\n","sapiente quia nihil amet occaecati quia id voluptatem\n","incidunt ea est distinctio odio                                                       |\n","\n"],"text/plain":["   userId postId post_title                           \n","2  1       2     qui est esse                         \n","4  1       4     eum et est occaecati                 \n","6  1       6     dolorem eum magni eos aperiam quia   \n","8  1       8     dolorem dolore est ipsam             \n","10 1      10     optio molestias id quia eum          \n","12 2      12     in quibusdam tempore odit est dolorem\n","   post_body                                                                                                                                                                                                        \n","2  est rerum tempore vitae\\nsequi sint nihil reprehenderit dolor beatae ea dolores neque\\nfugiat blanditiis voluptate porro vel nihil molestiae ut reiciendis\\nqui aperiam non debitis possimus qui neque nisi nulla\n","4  ullam et saepe reiciendis voluptatem adipisci\\nsit amet autem assumenda provident rerum culpa\\nquis hic commodi nesciunt rem tenetur doloremque ipsam iure\\nquis sunt voluptatem rerum illo velit                \n","6  ut aspernatur corporis harum nihil quis provident sequi\\nmollitia nobis aliquid molestiae\\nperspiciatis et ea nemo ab reprehenderit accusantium quas\\nvoluptate dolores velit et doloremque molestiae            \n","8  dignissimos aperiam dolorem qui eum\\nfacilis quibusdam animi sint suscipit qui sint possimus cum\\nquaerat magni maiores excepturi\\nipsam ut commodi dolor voluptatum modi aut vitae                              \n","10 quo et expedita modi cum officia vel magni\\ndoloribus qui repudiandae\\nvero nisi sit\\nquos veniam quod sed accusamus veritatis error                                                                             \n","12 itaque id aut magnam\\npraesentium quia et ea odit et ea voluptas et\\nsapiente quia nihil amet occaecati quia id voluptatem\\nincidunt ea est distinctio odio                                                      "]},"metadata":{},"output_type":"display_data"}],"source":["even_posts <- fromJSON(\"https://jsonplaceholder.typicode.com/posts\")\n","even_posts <- even_posts[even_posts$id[seq(2, length(even_posts$id), by = 2)], ]\n","\n","colnames(even_posts)[2:4] <- c(\"postId\", \"post_title\",\"post_body\")\n","head(even_posts)"]},{"cell_type":"markdown","id":"496152a1","metadata":{"papermill":{"duration":0.004241,"end_time":"2022-04-15T11:36:21.079322","exception":false,"start_time":"2022-04-15T11:36:21.075081","status":"completed"},"tags":[]},"source":["First, I used the **jsonlite library** to connect to the data source. I then reduced the number of retrieved posts to those with an **even ID**, as per the task. \n","\n","I **renamed** the columns to indicate they belong to the \"posts\" dataset."]},{"cell_type":"code","execution_count":3,"id":"b9892004","metadata":{"_cell_guid":"7d7f49bf-1729-4465-8c3b-ed7f54a0a451","_uuid":"3562aa78-ba5b-4677-9221-89adfb37f1a9","collapsed":false,"execution":{"iopub.execute_input":"2022-04-15T11:36:21.091297Z","iopub.status.busy":"2022-04-15T11:36:21.089679Z","iopub.status.idle":"2022-04-15T11:36:21.383534Z","shell.execute_reply":"2022-04-15T11:36:21.381755Z"},"jupyter":{"outputs_hidden":false},"papermill":{"duration":0.302246,"end_time":"2022-04-15T11:36:21.385948","exception":false,"start_time":"2022-04-15T11:36:21.083702","status":"completed"},"scrolled":true,"tags":[]},"outputs":[{"data":{"text/html":["<table class=\"dataframe\">\n","<caption>A data.frame: 6 × 5</caption>\n","<thead>\n","\t<tr><th></th><th scope=col>postId</th><th scope=col>comment_id</th><th scope=col>comment_name</th><th scope=col>commentator_email</th><th scope=col>comment_body</th></tr>\n","\t<tr><th></th><th scope=col>&lt;int&gt;</th><th scope=col>&lt;int&gt;</th><th scope=col>&lt;chr&gt;</th><th scope=col>&lt;chr&gt;</th><th scope=col>&lt;chr&gt;</th></tr>\n","</thead>\n","<tbody>\n","\t<tr><th scope=row>6</th><td>2</td><td> 6</td><td>et fugit eligendi deleniti quidem qui sint nihil autem         </td><td>Presley.Mueller@myrl.com    </td><td>doloribus at sed quis culpa deserunt consectetur qui praesentium\n","accusamus fugiat dicta\n","voluptatem rerum ut voluptate autem\n","voluptatem repellendus aspernatur dolorem in     </td></tr>\n","\t<tr><th scope=row>7</th><td>2</td><td> 7</td><td>repellat consequatur praesentium vel minus molestias voluptatum</td><td>Dallas@ole.me               </td><td>maiores sed dolores similique labore et inventore et\n","quasi temporibus esse sunt id et\n","eos voluptatem aliquam\n","aliquid ratione corporis molestiae mollitia quia et magnam dolor</td></tr>\n","\t<tr><th scope=row>8</th><td>2</td><td> 8</td><td>et omnis dolorem                                               </td><td>Mallory_Kunze@marie.org     </td><td>ut voluptatem corrupti velit\n","ad voluptatem maiores\n","et nisi velit vero accusamus maiores\n","voluptates quia aliquid ullam eaque                                                  </td></tr>\n","\t<tr><th scope=row>9</th><td>2</td><td> 9</td><td>provident id voluptas                                          </td><td>Meghan_Littel@rene.us       </td><td>sapiente assumenda molestiae atque\n","adipisci laborum distinctio aperiam et ab ut omnis\n","et occaecati aspernatur odit sit rem expedita\n","quas enim ipsam minus                    </td></tr>\n","\t<tr><th scope=row>10</th><td>2</td><td>10</td><td>eaque et deleniti atque tenetur ut quo ut                      </td><td>Carmen_Keeling@caroline.name</td><td>voluptate iusto quis nobis reprehenderit ipsum amet nulla\n","quia quas dolores velit et non\n","aut quia necessitatibus\n","nostrum quaerat nulla et accusamus nisi facilis             </td></tr>\n","\t<tr><th scope=row>16</th><td>4</td><td>16</td><td>perferendis temporibus delectus optio ea eum ratione dolorum   </td><td>Christine@ayana.info        </td><td>iste ut laborum aliquid velit facere itaque\n","quo ut soluta dicta voluptate\n","error tempore aut et\n","sequi reiciendis dignissimos expedita consequuntur libero sed fugiat facilis  </td></tr>\n","</tbody>\n","</table>\n"],"text/latex":["A data.frame: 6 × 5\n","\\begin{tabular}{r|lllll}\n","  & postId & comment\\_id & comment\\_name & commentator\\_email & comment\\_body\\\\\n","  & <int> & <int> & <chr> & <chr> & <chr>\\\\\n","\\hline\n","\t6 & 2 &  6 & et fugit eligendi deleniti quidem qui sint nihil autem          & Presley.Mueller@myrl.com     & doloribus at sed quis culpa deserunt consectetur qui praesentium\n","accusamus fugiat dicta\n","voluptatem rerum ut voluptate autem\n","voluptatem repellendus aspernatur dolorem in     \\\\\n","\t7 & 2 &  7 & repellat consequatur praesentium vel minus molestias voluptatum & Dallas@ole.me                & maiores sed dolores similique labore et inventore et\n","quasi temporibus esse sunt id et\n","eos voluptatem aliquam\n","aliquid ratione corporis molestiae mollitia quia et magnam dolor\\\\\n","\t8 & 2 &  8 & et omnis dolorem                                                & Mallory\\_Kunze@marie.org      & ut voluptatem corrupti velit\n","ad voluptatem maiores\n","et nisi velit vero accusamus maiores\n","voluptates quia aliquid ullam eaque                                                  \\\\\n","\t9 & 2 &  9 & provident id voluptas                                           & Meghan\\_Littel@rene.us        & sapiente assumenda molestiae atque\n","adipisci laborum distinctio aperiam et ab ut omnis\n","et occaecati aspernatur odit sit rem expedita\n","quas enim ipsam minus                    \\\\\n","\t10 & 2 & 10 & eaque et deleniti atque tenetur ut quo ut                       & Carmen\\_Keeling@caroline.name & voluptate iusto quis nobis reprehenderit ipsum amet nulla\n","quia quas dolores velit et non\n","aut quia necessitatibus\n","nostrum quaerat nulla et accusamus nisi facilis             \\\\\n","\t16 & 4 & 16 & perferendis temporibus delectus optio ea eum ratione dolorum    & Christine@ayana.info         & iste ut laborum aliquid velit facere itaque\n","quo ut soluta dicta voluptate\n","error tempore aut et\n","sequi reiciendis dignissimos expedita consequuntur libero sed fugiat facilis  \\\\\n","\\end{tabular}\n"],"text/markdown":["\n","A data.frame: 6 × 5\n","\n","| <!--/--> | postId &lt;int&gt; | comment_id &lt;int&gt; | comment_name &lt;chr&gt; | commentator_email &lt;chr&gt; | comment_body &lt;chr&gt; |\n","|---|---|---|---|---|---|\n","| 6 | 2 |  6 | et fugit eligendi deleniti quidem qui sint nihil autem          | Presley.Mueller@myrl.com     | doloribus at sed quis culpa deserunt consectetur qui praesentium\n","accusamus fugiat dicta\n","voluptatem rerum ut voluptate autem\n","voluptatem repellendus aspernatur dolorem in      |\n","| 7 | 2 |  7 | repellat consequatur praesentium vel minus molestias voluptatum | Dallas@ole.me                | maiores sed dolores similique labore et inventore et\n","quasi temporibus esse sunt id et\n","eos voluptatem aliquam\n","aliquid ratione corporis molestiae mollitia quia et magnam dolor |\n","| 8 | 2 |  8 | et omnis dolorem                                                | Mallory_Kunze@marie.org      | ut voluptatem corrupti velit\n","ad voluptatem maiores\n","et nisi velit vero accusamus maiores\n","voluptates quia aliquid ullam eaque                                                   |\n","| 9 | 2 |  9 | provident id voluptas                                           | Meghan_Littel@rene.us        | sapiente assumenda molestiae atque\n","adipisci laborum distinctio aperiam et ab ut omnis\n","et occaecati aspernatur odit sit rem expedita\n","quas enim ipsam minus                     |\n","| 10 | 2 | 10 | eaque et deleniti atque tenetur ut quo ut                       | Carmen_Keeling@caroline.name | voluptate iusto quis nobis reprehenderit ipsum amet nulla\n","quia quas dolores velit et non\n","aut quia necessitatibus\n","nostrum quaerat nulla et accusamus nisi facilis              |\n","| 16 | 4 | 16 | perferendis temporibus delectus optio ea eum ratione dolorum    | Christine@ayana.info         | iste ut laborum aliquid velit facere itaque\n","quo ut soluta dicta voluptate\n","error tempore aut et\n","sequi reiciendis dignissimos expedita consequuntur libero sed fugiat facilis   |\n","\n"],"text/plain":["   postId comment_id\n","6  2       6        \n","7  2       7        \n","8  2       8        \n","9  2       9        \n","10 2      10        \n","16 4      16        \n","   comment_name                                                   \n","6  et fugit eligendi deleniti quidem qui sint nihil autem         \n","7  repellat consequatur praesentium vel minus molestias voluptatum\n","8  et omnis dolorem                                               \n","9  provident id voluptas                                          \n","10 eaque et deleniti atque tenetur ut quo ut                      \n","16 perferendis temporibus delectus optio ea eum ratione dolorum   \n","   commentator_email           \n","6  Presley.Mueller@myrl.com    \n","7  Dallas@ole.me               \n","8  Mallory_Kunze@marie.org     \n","9  Meghan_Littel@rene.us       \n","10 Carmen_Keeling@caroline.name\n","16 Christine@ayana.info        \n","   comment_body                                                                                                                                                                    \n","6  doloribus at sed quis culpa deserunt consectetur qui praesentium\\naccusamus fugiat dicta\\nvoluptatem rerum ut voluptate autem\\nvoluptatem repellendus aspernatur dolorem in     \n","7  maiores sed dolores similique labore et inventore et\\nquasi temporibus esse sunt id et\\neos voluptatem aliquam\\naliquid ratione corporis molestiae mollitia quia et magnam dolor\n","8  ut voluptatem corrupti velit\\nad voluptatem maiores\\net nisi velit vero accusamus maiores\\nvoluptates quia aliquid ullam eaque                                                  \n","9  sapiente assumenda molestiae atque\\nadipisci laborum distinctio aperiam et ab ut omnis\\net occaecati aspernatur odit sit rem expedita\\nquas enim ipsam minus                    \n","10 voluptate iusto quis nobis reprehenderit ipsum amet nulla\\nquia quas dolores velit et non\\naut quia necessitatibus\\nnostrum quaerat nulla et accusamus nisi facilis             \n","16 iste ut laborum aliquid velit facere itaque\\nquo ut soluta dicta voluptate\\nerror tempore aut et\\nsequi reiciendis dignissimos expedita consequuntur libero sed fugiat facilis  "]},"metadata":{},"output_type":"display_data"}],"source":["comments <- fromJSON(\"https://jsonplaceholder.typicode.com/comments\")\n","comments <- comments[comments$postId %% 2 == 0, ]\n","colnames(comments)[2:5] <- c(\"comment_id\",\"comment_name\",\"commentator_email\",\"comment_body\")\n","head(comments)"]},{"cell_type":"markdown","id":"d93ca11e","metadata":{"papermill":{"duration":0.004704,"end_time":"2022-04-15T11:36:21.395428","exception":false,"start_time":"2022-04-15T11:36:21.390724","status":"completed"},"tags":[]},"source":["I then followed the same steps with the \"comments\" dataset. The *key field* linking those datasets is the **\"postId\"**, which was used to filter the comments data so that it also contains only to even numbered values. \n","\n","Again, I renamed the columns for clarity. "]},{"cell_type":"code","execution_count":4,"id":"acdc9ec4","metadata":{"_cell_guid":"7d7f49bf-1729-4465-8c3b-ed7f54a0a451","_uuid":"3562aa78-ba5b-4677-9221-89adfb37f1a9","collapsed":false,"execution":{"iopub.execute_input":"2022-04-15T11:36:21.40825Z","iopub.status.busy":"2022-04-15T11:36:21.406613Z","iopub.status.idle":"2022-04-15T11:36:21.451301Z","shell.execute_reply":"2022-04-15T11:36:21.449506Z"},"jupyter":{"outputs_hidden":false},"papermill":{"duration":0.054157,"end_time":"2022-04-15T11:36:21.454281","exception":false,"start_time":"2022-04-15T11:36:21.400124","status":"completed"},"scrolled":true,"tags":[]},"outputs":[{"data":{"text/html":["<table class=\"dataframe\">\n","<caption>A data.frame: 6 × 7</caption>\n","<thead>\n","\t<tr><th></th><th scope=col>postId</th><th scope=col>post_title</th><th scope=col>post_body</th><th scope=col>comment_id</th><th scope=col>comment_name</th><th scope=col>commentator_email</th><th scope=col>comment_body</th></tr>\n","\t<tr><th></th><th scope=col>&lt;int&gt;</th><th scope=col>&lt;chr&gt;</th><th scope=col>&lt;chr&gt;</th><th scope=col>&lt;int&gt;</th><th scope=col>&lt;chr&gt;</th><th scope=col>&lt;chr&gt;</th><th scope=col>&lt;chr&gt;</th></tr>\n","</thead>\n","<tbody>\n","\t<tr><th scope=row>1</th><td>2</td><td>qui est esse        </td><td>est rerum tempore vitae\n","sequi sint nihil reprehenderit dolor beatae ea dolores neque\n","fugiat blanditiis voluptate porro vel nihil molestiae ut reiciendis\n","qui aperiam non debitis possimus qui neque nisi nulla</td><td> 6</td><td>et fugit eligendi deleniti quidem qui sint nihil autem         </td><td>Presley.Mueller@myrl.com    </td><td>doloribus at sed quis culpa deserunt consectetur qui praesentium\n","accusamus fugiat dicta\n","voluptatem rerum ut voluptate autem\n","voluptatem repellendus aspernatur dolorem in     </td></tr>\n","\t<tr><th scope=row>2</th><td>2</td><td>qui est esse        </td><td>est rerum tempore vitae\n","sequi sint nihil reprehenderit dolor beatae ea dolores neque\n","fugiat blanditiis voluptate porro vel nihil molestiae ut reiciendis\n","qui aperiam non debitis possimus qui neque nisi nulla</td><td> 7</td><td>repellat consequatur praesentium vel minus molestias voluptatum</td><td>Dallas@ole.me               </td><td>maiores sed dolores similique labore et inventore et\n","quasi temporibus esse sunt id et\n","eos voluptatem aliquam\n","aliquid ratione corporis molestiae mollitia quia et magnam dolor</td></tr>\n","\t<tr><th scope=row>3</th><td>2</td><td>qui est esse        </td><td>est rerum tempore vitae\n","sequi sint nihil reprehenderit dolor beatae ea dolores neque\n","fugiat blanditiis voluptate porro vel nihil molestiae ut reiciendis\n","qui aperiam non debitis possimus qui neque nisi nulla</td><td> 8</td><td>et omnis dolorem                                               </td><td>Mallory_Kunze@marie.org     </td><td>ut voluptatem corrupti velit\n","ad voluptatem maiores\n","et nisi velit vero accusamus maiores\n","voluptates quia aliquid ullam eaque                                                  </td></tr>\n","\t<tr><th scope=row>4</th><td>2</td><td>qui est esse        </td><td>est rerum tempore vitae\n","sequi sint nihil reprehenderit dolor beatae ea dolores neque\n","fugiat blanditiis voluptate porro vel nihil molestiae ut reiciendis\n","qui aperiam non debitis possimus qui neque nisi nulla</td><td> 9</td><td>provident id voluptas                                          </td><td>Meghan_Littel@rene.us       </td><td>sapiente assumenda molestiae atque\n","adipisci laborum distinctio aperiam et ab ut omnis\n","et occaecati aspernatur odit sit rem expedita\n","quas enim ipsam minus                    </td></tr>\n","\t<tr><th scope=row>5</th><td>2</td><td>qui est esse        </td><td>est rerum tempore vitae\n","sequi sint nihil reprehenderit dolor beatae ea dolores neque\n","fugiat blanditiis voluptate porro vel nihil molestiae ut reiciendis\n","qui aperiam non debitis possimus qui neque nisi nulla</td><td>10</td><td>eaque et deleniti atque tenetur ut quo ut                      </td><td>Carmen_Keeling@caroline.name</td><td>voluptate iusto quis nobis reprehenderit ipsum amet nulla\n","quia quas dolores velit et non\n","aut quia necessitatibus\n","nostrum quaerat nulla et accusamus nisi facilis             </td></tr>\n","\t<tr><th scope=row>6</th><td>4</td><td>eum et est occaecati</td><td>ullam et saepe reiciendis voluptatem adipisci\n","sit amet autem assumenda provident rerum culpa\n","quis hic commodi nesciunt rem tenetur doloremque ipsam iure\n","quis sunt voluptatem rerum illo velit                </td><td>16</td><td>perferendis temporibus delectus optio ea eum ratione dolorum   </td><td>Christine@ayana.info        </td><td>iste ut laborum aliquid velit facere itaque\n","quo ut soluta dicta voluptate\n","error tempore aut et\n","sequi reiciendis dignissimos expedita consequuntur libero sed fugiat facilis  </td></tr>\n","</tbody>\n","</table>\n"],"text/latex":["A data.frame: 6 × 7\n","\\begin{tabular}{r|lllllll}\n","  & postId & post\\_title & post\\_body & comment\\_id & comment\\_name & commentator\\_email & comment\\_body\\\\\n","  & <int> & <chr> & <chr> & <int> & <chr> & <chr> & <chr>\\\\\n","\\hline\n","\t1 & 2 & qui est esse         & est rerum tempore vitae\n","sequi sint nihil reprehenderit dolor beatae ea dolores neque\n","fugiat blanditiis voluptate porro vel nihil molestiae ut reiciendis\n","qui aperiam non debitis possimus qui neque nisi nulla &  6 & et fugit eligendi deleniti quidem qui sint nihil autem          & Presley.Mueller@myrl.com     & doloribus at sed quis culpa deserunt consectetur qui praesentium\n","accusamus fugiat dicta\n","voluptatem rerum ut voluptate autem\n","voluptatem repellendus aspernatur dolorem in     \\\\\n","\t2 & 2 & qui est esse         & est rerum tempore vitae\n","sequi sint nihil reprehenderit dolor beatae ea dolores neque\n","fugiat blanditiis voluptate porro vel nihil molestiae ut reiciendis\n","qui aperiam non debitis possimus qui neque nisi nulla &  7 & repellat consequatur praesentium vel minus molestias voluptatum & Dallas@ole.me                & maiores sed dolores similique labore et inventore et\n","quasi temporibus esse sunt id et\n","eos voluptatem aliquam\n","aliquid ratione corporis molestiae mollitia quia et magnam dolor\\\\\n","\t3 & 2 & qui est esse         & est rerum tempore vitae\n","sequi sint nihil reprehenderit dolor beatae ea dolores neque\n","fugiat blanditiis voluptate porro vel nihil molestiae ut reiciendis\n","qui aperiam non debitis possimus qui neque nisi nulla &  8 & et omnis dolorem                                                & Mallory\\_Kunze@marie.org      & ut voluptatem corrupti velit\n","ad voluptatem maiores\n","et nisi velit vero accusamus maiores\n","voluptates quia aliquid ullam eaque                                                  \\\\\n","\t4 & 2 & qui est esse         & est rerum tempore vitae\n","sequi sint nihil reprehenderit dolor beatae ea dolores neque\n","fugiat blanditiis voluptate porro vel nihil molestiae ut reiciendis\n","qui aperiam non debitis possimus qui neque nisi nulla &  9 & provident id voluptas                                           & Meghan\\_Littel@rene.us        & sapiente assumenda molestiae atque\n","adipisci laborum distinctio aperiam et ab ut omnis\n","et occaecati aspernatur odit sit rem expedita\n","quas enim ipsam minus                    \\\\\n","\t5 & 2 & qui est esse         & est rerum tempore vitae\n","sequi sint nihil reprehenderit dolor beatae ea dolores neque\n","fugiat blanditiis voluptate porro vel nihil molestiae ut reiciendis\n","qui aperiam non debitis possimus qui neque nisi nulla & 10 & eaque et deleniti atque tenetur ut quo ut                       & Carmen\\_Keeling@caroline.name & voluptate iusto quis nobis reprehenderit ipsum amet nulla\n","quia quas dolores velit et non\n","aut quia necessitatibus\n","nostrum quaerat nulla et accusamus nisi facilis             \\\\\n","\t6 & 4 & eum et est occaecati & ullam et saepe reiciendis voluptatem adipisci\n","sit amet autem assumenda provident rerum culpa\n","quis hic commodi nesciunt rem tenetur doloremque ipsam iure\n","quis sunt voluptatem rerum illo velit                 & 16 & perferendis temporibus delectus optio ea eum ratione dolorum    & Christine@ayana.info         & iste ut laborum aliquid velit facere itaque\n","quo ut soluta dicta voluptate\n","error tempore aut et\n","sequi reiciendis dignissimos expedita consequuntur libero sed fugiat facilis  \\\\\n","\\end{tabular}\n"],"text/markdown":["\n","A data.frame: 6 × 7\n","\n","| <!--/--> | postId &lt;int&gt; | post_title &lt;chr&gt; | post_body &lt;chr&gt; | comment_id &lt;int&gt; | comment_name &lt;chr&gt; | commentator_email &lt;chr&gt; | comment_body &lt;chr&gt; |\n","|---|---|---|---|---|---|---|---|\n","| 1 | 2 | qui est esse         | est rerum tempore vitae\n","sequi sint nihil reprehenderit dolor beatae ea dolores neque\n","fugiat blanditiis voluptate porro vel nihil molestiae ut reiciendis\n","qui aperiam non debitis possimus qui neque nisi nulla |  6 | et fugit eligendi deleniti quidem qui sint nihil autem          | Presley.Mueller@myrl.com     | doloribus at sed quis culpa deserunt consectetur qui praesentium\n","accusamus fugiat dicta\n","voluptatem rerum ut voluptate autem\n","voluptatem repellendus aspernatur dolorem in      |\n","| 2 | 2 | qui est esse         | est rerum tempore vitae\n","sequi sint nihil reprehenderit dolor beatae ea dolores neque\n","fugiat blanditiis voluptate porro vel nihil molestiae ut reiciendis\n","qui aperiam non debitis possimus qui neque nisi nulla |  7 | repellat consequatur praesentium vel minus molestias voluptatum | Dallas@ole.me                | maiores sed dolores similique labore et inventore et\n","quasi temporibus esse sunt id et\n","eos voluptatem aliquam\n","aliquid ratione corporis molestiae mollitia quia et magnam dolor |\n","| 3 | 2 | qui est esse         | est rerum tempore vitae\n","sequi sint nihil reprehenderit dolor beatae ea dolores neque\n","fugiat blanditiis voluptate porro vel nihil molestiae ut reiciendis\n","qui aperiam non debitis possimus qui neque nisi nulla |  8 | et omnis dolorem                                                | Mallory_Kunze@marie.org      | ut voluptatem corrupti velit\n","ad voluptatem maiores\n","et nisi velit vero accusamus maiores\n","voluptates quia aliquid ullam eaque                                                   |\n","| 4 | 2 | qui est esse         | est rerum tempore vitae\n","sequi sint nihil reprehenderit dolor beatae ea dolores neque\n","fugiat blanditiis voluptate porro vel nihil molestiae ut reiciendis\n","qui aperiam non debitis possimus qui neque nisi nulla |  9 | provident id voluptas                                           | Meghan_Littel@rene.us        | sapiente assumenda molestiae atque\n","adipisci laborum distinctio aperiam et ab ut omnis\n","et occaecati aspernatur odit sit rem expedita\n","quas enim ipsam minus                     |\n","| 5 | 2 | qui est esse         | est rerum tempore vitae\n","sequi sint nihil reprehenderit dolor beatae ea dolores neque\n","fugiat blanditiis voluptate porro vel nihil molestiae ut reiciendis\n","qui aperiam non debitis possimus qui neque nisi nulla | 10 | eaque et deleniti atque tenetur ut quo ut                       | Carmen_Keeling@caroline.name | voluptate iusto quis nobis reprehenderit ipsum amet nulla\n","quia quas dolores velit et non\n","aut quia necessitatibus\n","nostrum quaerat nulla et accusamus nisi facilis              |\n","| 6 | 4 | eum et est occaecati | ullam et saepe reiciendis voluptatem adipisci\n","sit amet autem assumenda provident rerum culpa\n","quis hic commodi nesciunt rem tenetur doloremque ipsam iure\n","quis sunt voluptatem rerum illo velit                 | 16 | perferendis temporibus delectus optio ea eum ratione dolorum    | Christine@ayana.info         | iste ut laborum aliquid velit facere itaque\n","quo ut soluta dicta voluptate\n","error tempore aut et\n","sequi reiciendis dignissimos expedita consequuntur libero sed fugiat facilis   |\n","\n"],"text/plain":["  postId post_title          \n","1 2      qui est esse        \n","2 2      qui est esse        \n","3 2      qui est esse        \n","4 2      qui est esse        \n","5 2      qui est esse        \n","6 4      eum et est occaecati\n","  post_body                                                                                                                                                                                                        \n","1 est rerum tempore vitae\\nsequi sint nihil reprehenderit dolor beatae ea dolores neque\\nfugiat blanditiis voluptate porro vel nihil molestiae ut reiciendis\\nqui aperiam non debitis possimus qui neque nisi nulla\n","2 est rerum tempore vitae\\nsequi sint nihil reprehenderit dolor beatae ea dolores neque\\nfugiat blanditiis voluptate porro vel nihil molestiae ut reiciendis\\nqui aperiam non debitis possimus qui neque nisi nulla\n","3 est rerum tempore vitae\\nsequi sint nihil reprehenderit dolor beatae ea dolores neque\\nfugiat blanditiis voluptate porro vel nihil molestiae ut reiciendis\\nqui aperiam non debitis possimus qui neque nisi nulla\n","4 est rerum tempore vitae\\nsequi sint nihil reprehenderit dolor beatae ea dolores neque\\nfugiat blanditiis voluptate porro vel nihil molestiae ut reiciendis\\nqui aperiam non debitis possimus qui neque nisi nulla\n","5 est rerum tempore vitae\\nsequi sint nihil reprehenderit dolor beatae ea dolores neque\\nfugiat blanditiis voluptate porro vel nihil molestiae ut reiciendis\\nqui aperiam non debitis possimus qui neque nisi nulla\n","6 ullam et saepe reiciendis voluptatem adipisci\\nsit amet autem assumenda provident rerum culpa\\nquis hic commodi nesciunt rem tenetur doloremque ipsam iure\\nquis sunt voluptatem rerum illo velit                \n","  comment_id comment_name                                                   \n","1  6         et fugit eligendi deleniti quidem qui sint nihil autem         \n","2  7         repellat consequatur praesentium vel minus molestias voluptatum\n","3  8         et omnis dolorem                                               \n","4  9         provident id voluptas                                          \n","5 10         eaque et deleniti atque tenetur ut quo ut                      \n","6 16         perferendis temporibus delectus optio ea eum ratione dolorum   \n","  commentator_email           \n","1 Presley.Mueller@myrl.com    \n","2 Dallas@ole.me               \n","3 Mallory_Kunze@marie.org     \n","4 Meghan_Littel@rene.us       \n","5 Carmen_Keeling@caroline.name\n","6 Christine@ayana.info        \n","  comment_body                                                                                                                                                                    \n","1 doloribus at sed quis culpa deserunt consectetur qui praesentium\\naccusamus fugiat dicta\\nvoluptatem rerum ut voluptate autem\\nvoluptatem repellendus aspernatur dolorem in     \n","2 maiores sed dolores similique labore et inventore et\\nquasi temporibus esse sunt id et\\neos voluptatem aliquam\\naliquid ratione corporis molestiae mollitia quia et magnam dolor\n","3 ut voluptatem corrupti velit\\nad voluptatem maiores\\net nisi velit vero accusamus maiores\\nvoluptates quia aliquid ullam eaque                                                  \n","4 sapiente assumenda molestiae atque\\nadipisci laborum distinctio aperiam et ab ut omnis\\net occaecati aspernatur odit sit rem expedita\\nquas enim ipsam minus                    \n","5 voluptate iusto quis nobis reprehenderit ipsum amet nulla\\nquia quas dolores velit et non\\naut quia necessitatibus\\nnostrum quaerat nulla et accusamus nisi facilis             \n","6 iste ut laborum aliquid velit facere itaque\\nquo ut soluta dicta voluptate\\nerror tempore aut et\\nsequi reiciendis dignissimos expedita consequuntur libero sed fugiat facilis  "]},"metadata":{},"output_type":"display_data"}],"source":["final_df <- even_posts %>% \n","  inner_join(comments,by=\"postId\") %>%\n","  subset(select= -c(userId))\n","head(final_df)"]},{"cell_type":"markdown","id":"36bc8106","metadata":{"papermill":{"duration":0.004791,"end_time":"2022-04-15T11:36:21.464267","exception":false,"start_time":"2022-04-15T11:36:21.459476","status":"completed"},"tags":[]},"source":["I merged two datasets into a new data frame named **\"final_df\"** with inner_join and removed unnecessary field called UserId."]},{"cell_type":"code","execution_count":5,"id":"aa7a3fdc","metadata":{"_cell_guid":"7d7f49bf-1729-4465-8c3b-ed7f54a0a451","_uuid":"3562aa78-ba5b-4677-9221-89adfb37f1a9","collapsed":false,"execution":{"iopub.execute_input":"2022-04-15T11:36:21.477313Z","iopub.status.busy":"2022-04-15T11:36:21.475748Z","iopub.status.idle":"2022-04-15T11:36:21.542059Z","shell.execute_reply":"2022-04-15T11:36:21.539785Z"},"jupyter":{"outputs_hidden":false},"papermill":{"duration":0.076035,"end_time":"2022-04-15T11:36:21.545055","exception":false,"start_time":"2022-04-15T11:36:21.46902","status":"completed"},"scrolled":true,"tags":[]},"outputs":[{"data":{"text/html":["<table class=\"dataframe\">\n","<caption>A tibble: 6 × 2</caption>\n","<thead>\n","\t<tr><th scope=col>postId</th><th scope=col>comments_count</th></tr>\n","\t<tr><th scope=col>&lt;int&gt;</th><th scope=col>&lt;int&gt;</th></tr>\n","</thead>\n","<tbody>\n","\t<tr><td> 2</td><td>5</td></tr>\n","\t<tr><td> 4</td><td>5</td></tr>\n","\t<tr><td> 6</td><td>5</td></tr>\n","\t<tr><td> 8</td><td>5</td></tr>\n","\t<tr><td>10</td><td>5</td></tr>\n","\t<tr><td>12</td><td>5</td></tr>\n","</tbody>\n","</table>\n"],"text/latex":["A tibble: 6 × 2\n","\\begin{tabular}{ll}\n"," postId & comments\\_count\\\\\n"," <int> & <int>\\\\\n","\\hline\n","\t  2 & 5\\\\\n","\t  4 & 5\\\\\n","\t  6 & 5\\\\\n","\t  8 & 5\\\\\n","\t 10 & 5\\\\\n","\t 12 & 5\\\\\n","\\end{tabular}\n"],"text/markdown":["\n","A tibble: 6 × 2\n","\n","| postId &lt;int&gt; | comments_count &lt;int&gt; |\n","|---|---|\n","|  2 | 5 |\n","|  4 | 5 |\n","|  6 | 5 |\n","|  8 | 5 |\n","| 10 | 5 |\n","| 12 | 5 |\n","\n"],"text/plain":["  postId comments_count\n","1  2     5             \n","2  4     5             \n","3  6     5             \n","4  8     5             \n","5 10     5             \n","6 12     5             "]},"metadata":{},"output_type":"display_data"}],"source":["its_a_final_countdown_tiririri_tututututum <- final_df %>%                              \n","  group_by(postId) %>%\n","  summarise(comments_count = n_distinct(comment_id))\n","head(its_a_final_countdown_tiririri_tututututum)"]},{"cell_type":"markdown","id":"d5b5e36e","metadata":{"papermill":{"duration":0.004988,"end_time":"2022-04-15T11:36:21.55514","exception":false,"start_time":"2022-04-15T11:36:21.550152","status":"completed"},"tags":[]},"source":["The last step was to create a tibble grouped by **postId** field and with a new field **\"comments_count\"** indicating the number of comments under each post."]}],"metadata":{"kernelspec":{"display_name":"R","language":"R","name":"ir"},"language_info":{"codemirror_mode":"r","file_extension":".r","mimetype":"text/x-r-source","name":"R","pygments_lexer":"r","version":"4.0.5"},"papermill":{"default_parameters":{},"duration":6.493916,"end_time":"2022-04-15T11:36:21.682792","environment_variables":{},"exception":null,"input_path":"__notebook__.ipynb","output_path":"__notebook__.ipynb","parameters":{},"start_time":"2022-04-15T11:36:15.188876","version":"2.3.4"}},"nbformat":4,"nbformat_minor":5}